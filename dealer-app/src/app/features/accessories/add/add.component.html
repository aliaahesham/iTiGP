<app-title>Add New Accessory</app-title>
<div class="container my-5 py-5 ">
  <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
    <div class="row no-gutters pt-3 d-flex justify-content-center">
      <div class="col-md-4 col-sm-6">
        <label for="file-input">
          <img [src]="filePreview" class="rounded mx-auto d-block img-fluid" alt="add accessory img">
        </label>
        <input type="file" id="file-input" style="display: none" name="image" (change)="onFileChanged($event)">

      </div>
      <div class="col-md-7 col-sm-6 mx-2 mt-n1">

        <div class="form-group" style="margin-top: 62px">
          <label for="Name">Name</label>
          <input type="text" class="form-control" id="Name" formControlName="name">
          <div class="error-msg" *ngIf="myForm.get('name').hasError('required') && myForm.get('name').touched ">
            Please Enter Name
          </div>
          <div class="error-msg"
            *ngIf="(myForm.get('name').hasError('minlength') || myForm.get('name').hasError('maxlength')) && myForm.get('name').touched ">
            Name should be more than 3 letters and less than 30
          </div>
        </div>

        <div class="form-group">
          <label for="Price">Price</label>
          <input type="text" class="form-control" id="Price" formControlName="price">
          <div class="error-msg" *ngIf="myForm.get('price').hasError('required') && myForm.get('price').touched ">
            Please Enter Price
          </div>
          <div class="error-msg" *ngIf="myForm.get('price').hasError('pattern') && myForm.get('price').touched ">
            Price should be only number
          </div>
        </div>

        <div class="form-group">
          <label for="">Description</label>
          <textarea class="form-control" name="" id="" cols="30" rows="4" formControlName="description"></textarea>
          <div class="error-msg"
            *ngIf="myForm.get('description').hasError('required') && myForm.get('description').touched ">
            Please Enter Description
          </div>
          <div class="error-msg"
            *ngIf="(myForm.get('description').hasError('minlength') || myForm.get('description').hasError('maxlength')) && myForm.get('description').touched ">
            Description should be more than 10 letters and less than 50
          </div>
        </div>

        <div class="form-group">
          <label for="">Category</label>
          <!-- dropDown list -->
          <select formControlName="categoryId" class="form-control" name="ddlCategory" id="">
            <option value='0'>
              <span>Select Category</span>
            </option>
            <option *ngFor="let cat of category" [value]="cat.id">{{cat.name}}</option>
          </select>
          <div class="error-msg"
            *ngIf="myForm.get('categoryId').hasError('required') && myForm.get('categoryId').touched">
            Please choose a category
          </div>
        </div>

        <div class="d-flex justify-content-end">
          <button type="reset" class="btn btn--ordinary btn--color-secondary  mr-1">Cancel</button>
          <button type="submit" class="btn btn--ordinary btn--color-primary mr-1">Add</button>
        </div>
      </div>
    </div>
  </form>
</div>